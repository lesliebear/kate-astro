---
import BaseLayout from "../layouts/BaseLayout.astro";
import VideoContainer from "../components/Video/VideoContainer";

const res = await fetch("http://localhost:3000/api/media?limit=100&sort=createdAt&where[isMusicVideo][equals]=true");
const media = await res.json();

const videoList = [];
media.docs.map((post) => {
    videoList.push({
        vidID: post.vidID,
        title: post.title,
        role: post.role,
        imgSrc: post.url,
    })
});

---

<BaseLayout isMinNav={false}>
    <VideoContainer
        videoList={videoList}
        imgPath="http://localhost:3000"
    />
</BaseLayout>